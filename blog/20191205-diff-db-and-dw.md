---
title: 数据仓库和数据库的区别
author: "murph"
release: true
---

今天和同事做分享，被问及这个问题时禁不住一窒，好像从来没有思考过这个问题，抑或是注入此类的问题。打哈哈的同时，竟然在心里调笑起了曾经的自己：对，“数据库”是“数据仓库”简称。二者之间没有任何区别……呸，是时候自我敲打了！数据库和数据仓库当然是两种不同的东西！“盲人摸象”的话，它们似乎别无二致；但若要深究起来，区别还是显而易见的。

<!--more-->

> 本质上说，一个是为了响应时间，一个是为了吞吐量。

### 数据库

数据库（Database）是“按照数据结构来组织、存储和管理数据的仓库”，是一个长期存储在计算机内的、有组织的、可共享的、统一管理，能与多个用户共享、具有尽可能小的冗余度、与应用程序彼此独立的数据集合。它管理数据的存储空间很大，可以存放百万条、千万条、上亿条数据。但是数据库并不是随意地将数据进行存放，是有一定的规则的，否则查询的效率会很低。

#### 关系型数据库

> Oracle、 MySQL、 PostgreSQL……

关系型数据库，存储的格式可以直观地反映实体间的关系。关系型数据库和常见的表格比较相似，关系型数据库中表与表之间是有很多复杂的关联关系。 

> OLTP是联机事务处理（Online Transaction Processing）的简称，表示事务性非常高的系统，一般都是高可用的在线系统，以小的事务以及小的查询为主，评估其系统的时候，一般看其每秒执行的Transaction以及Execute SQL的数量。

数据库是数据管理的方法和技术，用户可以用其对文件中的数据进行新增、查询、更新、删除等操作，这些操作遵循ACID原则的软件系统。它设计的目的在于更好的组织数据、更方便的维护数据、更严密的控制数据和更有效的利用数据。

#### 非关系型数据库

> MongoDB、 Redis……

用于简化数据库结构的、避免冗余的、放弃影响性能的表连接的、非关系型的、不保证遵循ACID原则的数据存储系统。非关系型数据库技术与CAP理论、一致性哈希算法有密切关系。

### 数据仓库

数据仓库（Data Warehouse）是一个面向主题的（Subject Oriented）、集成的（Integrate）、相对稳定的（Non-Volatile）、反映历史变化（Time Variant）的数据集合，用于支持管理决策。

1. 面向主题：指数据仓库中的数据是按照一定的主题域进行组织；
1. 集成：指对原有分散的数据库数据经过系统加工, 整理得到的消除源数据中的不一致性；
1. 相对稳定：指一旦某个数据进入数据仓库以后只需要定期的加载、刷新；
1. 反映历史变化：指通过这些信息，对企业的发展历程和未来趋势做出定量分析预测。

数据仓库建设是一个工程，是一个过程，而不是一种可以购买的产品。企业数据处理方式是以联机事务处理形式信息，并利用信息进行决策；在信息应用过程中管理信息。

> OLAP是联机分析处理（Online Analytical Processing）系统的简称，有的时候也叫DSS决策支持系统，就是我们说的数据仓库。相对于OLTP，语句的执行量不是考核标准，因为一条语句的执行时间可能会非常长，读取的数据也非常多。所以，在这样的系统中，考核的标准往往是磁盘子系统的吞吐量（带宽）。

数据仓库的出现，并不是要取代数据库。目前，大部分数据仓库还是用关系数据库管理系统来管理的。数据仓库与数据库的主要区别在于：

1. 数据库是面向事务的设计，数据仓库是面向主题设计的；
1. 数据库一般存储在线交易数据，数据仓库存储的一般是历史数据；
1. 数据库设计是尽量避免冗余，数据仓库在设计是有意引入冗余；
1. 数据库是为捕获数据而设计，数据仓库是为分析数据而设计。

### 小结

简而言之，数据库是面向事务的设计，数据仓库是面向主题设计的。

数据库一般存储在线交易数据，数据仓库存储的一般是历史数据。

数据库设计是尽量避免冗余，一般采用符合范式的规则来设计，数据仓库在设计是有意引入冗余，采用反范式的方式来设计。

数据库是为捕获数据而设计，数据仓库是为分析数据而设计，它的两个基本的元素是维表和事实表。