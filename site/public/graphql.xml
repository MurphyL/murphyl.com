<?xml version="1.0" encoding="UTF-8"?>
<graphql>
    <query-issue-list>
        <![CDATA[
            query($ghp_username:String!, $ghp_repository:String!, $ghp_issue_states:[IssueState!]!, $ghp_labels:[String!]!) {
                repository(owner: $ghp_username,name: $ghp_repository) {
                    issues(labels: $ghp_labels, states: $ghp_issue_states, first: 10) {
                        nodes {
                            id,
                            number,
                            url,
                            title,
                            body
                        }
                    }
                }
            }
        ]]>
    </query-issue-list>
    <query-issue-comments>
        <![CDATA[
            query($ghp_username:String!, $ghp_repository:String!, $ghp_issue_states:[IssueState!]!, $ghp_labels:[String!]!) {
                repository(owner: $ghp_username, name: $ghp_repository) {
                    issues(labels: $ghp_labels states: $ghp_issue_states, first: 10) {
                        nodes {
                            id,
                            number,
                            url,
                            title,
                            createdViaEmail,
                            publishedAt,
                            comments(first: 100) {
                                nodes {
                                    id,
                                    databaseId,
                                    url,
                                    bodyText,
                                    publishedAt,
                                }
                            }
                        }
                    }
                }
            }
        ]]>
    </query-issue-comments>
    <get-issue-details>
        <![CDATA[
            query($ghp_username:String!, $ghp_repository:String!, $issue_number:Int!) {
                repository(owner: $ghp_username,name: $ghp_repository) {
                    issue(number: $issue_number) {
                        id,
                        number,
                        url,
                        title,
                        body
                    }
                }
            }
        ]]>
    </get-issue-details>
</graphql>